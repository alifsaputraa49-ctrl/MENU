<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pemesanan Makanan</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="font-sans min-h-screen bg-gradient-to-br from-green-300 via-green-400 to-green-600 relative">

<!-- Pola dekorasi background -->
<div class="absolute inset-0 bg-[url('https://www.toptal.com/designers/subtlepatterns/patterns/memphis-mini.png')] opacity-20"></div>

<!-- Konten utama -->
<div class="relative z-10">

  <!-- Sampul Depan -->
  <div id="landing-page" class="fixed inset-0 flex flex-col justify-center items-center text-center px-4 z-50 bg-gradient-to-br from-green-500 via-green-600 to-green-700">
    <h1 class="text-5xl font-extrabold text-white mb-4 drop-shadow-lg animate-bounce">üçΩÔ∏è Selamat Datang!</h1>
    <p class="text-lg text-white mb-6">Silakan pesan makanan favoritmu</p>
    
    <input id="nama" type="text" placeholder="Nama Anda" class="mb-3 px-4 py-2 rounded-lg w-64 text-center shadow-md" />
    <input id="meja" type="text" placeholder="Nomor Meja" class="mb-6 px-4 py-2 rounded-lg w-64 text-center shadow-md" />
    
    <button onclick="mulaiPesan()" class="bg-white hover:bg-gray-100 text-green-700 font-bold text-xl px-8 py-3 rounded-2xl shadow-lg transition">
      Mulai Pesan
    </button>
  </div>

  <!-- Halaman Menu -->
  <div id="menu-page" class="max-w-5xl mx-auto p-6 hidden">
    <h2 class="text-3xl font-bold mb-6 text-center text-white drop-shadow">üç¥ Menu Makanan</h2>
    <div id="menu-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

    <div class="text-right mt-6 bg-white p-4 rounded-lg shadow">
      <p class="text-xl font-bold">Total: Rp <span id="total">0</span></p>
      <button onclick="kirimPesanan()" class="mt-4 bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg shadow-lg">
        Kirim Pesanan
      </button>
    </div>
  </div>

</div>

<script>
const menus = [
  { name: "Mie Ayam", price: 15000, img: "https://doyan-masak.com/wp-content/uploads/2022/02/mie-ayam-sederhana.jpeg" },
  { name: "Bakso", price: 18000, img: "https://3.bp.blogspot.com/-CXEm7Ch4USk/WaF_bosHvlI/AAAAAAAADwM/MJoNuT0SwVYR3zkTydIoVkSv8_NQsKGYgCLcBGAs/s1600/cara%2Bmembuat%2Bbakso%2Burat.jpg" },
  { name: "Nasi Padang", price: 20000, img: "https://images.deliveryhero.io/image/fd-my/LH/bakr-hero.jpg" },
  { name: "Steak Ayam", price: 25000, img: "https://asset.kompas.com/crops/WG0HBHsYEVx3G7EjN9KWqP2JnGI=/0x37:1280x890/750x500/data/photo/2021/02/09/602264bda959b.jpg" },
  { name: "Steak Sapi", price: 35000, img: "https://3.bp.blogspot.com/-TxAjMDkiax4/UmFXC3-AP4I/AAAAAAAAAGU/JF60W7nesO0/s1600/resep+steak+daging+sapi+spesial+lezat.jpg" },
  { name: "Es Teh", price: 5000, img: "https://www.astronauts.id/blog/wp-content/uploads/2023/03/Beberapa-Resep-Es-Teh-Manis-Yang-Enggak-Ngebosenin-Untuk-Buka-Puasa.jpg" },
  { name: "Es Jeruk", price: 6000, img: "https://www.cookmeindonesian.com/wp-content/uploads/2021/09/es-jeruk-final2.jpg" },
];

let cart = new Array(menus.length).fill(0);

function mulaiPesan() {
  const nama = document.getElementById("nama").value.trim();
  const meja = document.getElementById("meja").value.trim();

  if (!nama || !meja) {
    alert("Silakan isi Nama dan Nomor Meja terlebih dahulu.");
    return;
  }

  localStorage.setItem("customerName", nama);
  localStorage.setItem("tableNumber", meja);

  document.getElementById("landing-page").style.display = "none";
  document.getElementById("menu-page").classList.remove("hidden");

  renderMenu();
}

function updateCart(index, change) {
  cart[index] = Math.max(0, cart[index] + change);
  renderMenu();
}

function renderMenu() {
  const container = document.getElementById("menu-container");
  container.innerHTML = "";
  let total = 0;

  menus.forEach((menu, index) => {
    const subtotal = menu.price * cart[index];
    total += subtotal;

    container.innerHTML += `
      <div class="bg-white rounded-lg shadow-lg p-4 flex flex-col hover:scale-105 hover:shadow-xl transition transform duration-200">
        <img src="${menu.img}" alt="${menu.name}" class="w-full h-40 object-cover rounded-lg mb-4">
        <h3 class="text-xl font-semibold">${menu.name}</h3>
        <p class="text-gray-600 mb-2">Rp ${menu.price}</p>
        <div class="flex items-center mb-2">
          <button onclick="updateCart(${index}, -1)" class="bg-red-500 text-white px-3 py-1 rounded">-</button>
          <span class="mx-3">${cart[index]}</span>
          <button onclick="updateCart(${index}, 1)" class="bg-green-500 text-white px-3 py-1 rounded">+</button>
        </div>
        <p class="text-sm text-gray-700">Subtotal: Rp ${subtotal}</p>
      </div>
    `;
  });

  document.getElementById("total").innerText = total;
}

function kirimPesanan() {
  const nama = localStorage.getItem("customerName");
  const meja = localStorage.getItem("tableNumber");

  let items = [];
  let total = 0;

  menus.forEach((menu, index) => {
    if (cart[index] > 0) {
      items.push(`${menu.name} x${cart[index]}`);
      total += menu.price * cart[index];
    }
  });

  if (items.length === 0) {
    alert("Anda belum memilih menu apapun.");
    return;
  }

  const pesanan = {
    id: Date.now(),
    nama,
    meja,
    items,
    total
  };

  let semuaPesanan = JSON.parse(localStorage.getItem("pesanan")) || [];
  semuaPesanan.push(pesanan);
  localStorage.setItem("pesanan", JSON.stringify(semuaPesanan));

  alert("Pesanan berhasil dikirim!");
  cart = new Array(menus.length).fill(0);
  renderMenu();
}
</script>

</body>
</html>

</body>
</html>